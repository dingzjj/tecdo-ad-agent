# 广告素材智能助手

一个基于AI的广告素材生成和管理平台，提供图片到视频生成、游戏广告代理、批量图片生成和智能聊天等功能。

## 功能特性

### 🎬 图片到视频生成
- **v1版本**: 支持多组图片批量生成视频
- **v2版本**: 支持动态添加/删除图片，实时视频拼接

### 🎮 游戏广告代理
- 游戏视频嵌入功能
- 智能画面选择和位置调整
- 实时预览和编辑

### 🖼️ 批量图片生成
- 多角度商品图片生成
- 自定义需求和风格调整
- 批量处理能力

### 💬 智能聊天代理
- 多模态对话支持
- 文件上传和处理
- 智能工作流管理

## 项目环境

- **Python**: 3.12+
- **Gradio**: 5.11.0
- **LangGraph**: 最新版本
- **其他依赖**: 详见 requirements.txt

## 安装指南

### 1. 克隆项目
```bash
git clone 
cd ad_agent
```

### 2. 创建虚拟环境
```bash
python -m venv venv
source venv/bin/activate  # Linux/Mac
# 或
venv\Scripts\activate  # Windows
```

### 3. 安装依赖
```bash
pip install -r requirements.txt
```

### 4. 配置环境
1. 复制 `config.json.example` 为 `config.json`
2. 根据实际情况修改配置文件
3. 确保相关API密钥已正确配置

## 使用方法

### 启动应用
```bash
python main.py
```

应用将在 `http://localhost:6012` 启动

### 主要功能使用

#### 图片到视频生成
1. 上传图片文件
2. 输入正向和负向提示词
3. 选择动作类型
4. 点击生成按钮

#### 游戏广告代理
1. 上传游戏视频和封面
2. 输入游戏描述
3. 选择画面和调整位置
4. 生成最终广告视频

#### 批量图片生成
1. 上传商品参考图（6个角度）
2. 输入商品主题和需求
3. 选择生成数量
4. 提交任务

#### 智能聊天
1. 在聊天界面输入问题
2. 可上传图片、视频等文件
3. 系统会智能分析并回复

## 项目结构

```
ad_agent/
├── main.py                 # 主程序入口
├── config.py              # 配置管理
├── requirements.txt       # 依赖列表
├── modules/               # 核心模块
│   ├── hook.py           # 主要钩子函数
│   ├── hook_m2v.py       # 图片到视频生成
│   ├── hook_ad_agent.py  # 广告代理聊天
│   └── util.py           # 工具函数
├── agent/                 # 代理模块
│   ├── utils.py          # 工具函数
│   ├── ad_agent/         # 广告代理
│   ├── game_ad_agent/    # 游戏广告代理
│   └── third_part/       # 第三方集成
├── user_dir/             # 用户数据目录
├── logs/                 # 日志目录
└── web_assets/           # 前端资源
```

## 配置说明

主要配置项在 `config.json` 中：

```json
{
  "user_data_dir": "user_dir",
  "log_dir": "logs",
  "api_keys": {
    "openai": "your-openai-key",
    "google": "your-google-key"
  }
}
```

## 开发指南

### 代码规范
- 使用类型注解
- 添加详细的文档字符串
- 遵循PEP 8代码风格
- 使用有意义的变量和函数名

### 测试
```bash
python test.py
```

### 日志
日志文件保存在 `logs/` 目录下，支持不同级别的日志记录。

## 故障排除

### 常见问题

1. **依赖安装失败**
   - 确保Python版本为3.12+
   - 尝试使用国内镜像源

2. **API调用失败**
   - 检查配置文件中的API密钥
   - 确认网络连接正常

3. **视频生成失败**
   - 检查输入图片格式
   - 确认有足够的磁盘空间

## 贡献指南

1. Fork 项目
2. 创建功能分支
3. 提交更改
4. 发起 Pull Request

## 许可证

本项目采用 MIT 许可证。

## 联系方式

如有问题或建议，请通过以下方式联系：
- 提交 Issue
- 发送邮件18128621536@163.com
- 项目讨论区

